(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7792],{4147:function(e,t,n){Promise.resolve().then(n.bind(n,1043))},1043:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var l=n(7437);n(3145);var r=n(2265),o=n(1668),i=n(4481),a=n(1759),s=n(7728),c=n(9064);function u(){let[e,t]=(0,r.useState)([]),{data:n}=(0,r.useContext)(i.t),[u,d]=(0,r.useState)({movieName:null==e?void 0:e.movieName,movieImage:(null==n?void 0:n.image)||(null==e?void 0:e.movieImage),movieLink:null==e?void 0:e.movieLink});async function m(e){if(e){let o=await fetch("/api/movies?movieName=".concat(e)),i=await (null==o?void 0:o.json());if(o.ok){var n,l,r;t(i),d({movieName:null===(n=i[0])||void 0===n?void 0:n.movieName,movieImage:null===(l=i[0])||void 0===l?void 0:l.movieImage,movieLink:null===(r=i[0])||void 0===r?void 0:r.movieLink})}else console.error("Failed to fetch movie")}}async function f(){var t;(await fetch("/api/movies?movieName=".concat(null==u?void 0:u.movieName),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:null===(t=e[0])||void 0===t?void 0:t.id,movieName:u.movieName,movieImage:u.movieImage,movieLink:u.movieLink})})).ok?c.ZP.custom(e=>(0,l.jsx)(s.Z,{t:e,message:"تم تعديل الفيلم بنجاح"})):console.log("something went wrong")}return(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("movieName");e&&m(e)},[]),(0,r.useEffect)(()=>{(null==n?void 0:n.image)&&n.image!==u.movieImage&&d(e=>({...e,movieImage:n.image}))},[null==n?void 0:n.image]),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(null==e?void 0:e.length)>0&&e.map(e=>(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)(o.Z,{img:null==e?void 0:e.movieImage}),(0,l.jsx)("h1",{contentEditable:!0,onInput:e=>d({...u,movieLink:e.currentTarget.textContent}),className:"line-clamp-1",children:null==e?void 0:e.movieLink}),(0,l.jsxs)("h1",{contentEditable:!0,suppressContentEditableWarning:!0,onInput:e=>d({...u,movieName:e.currentTarget.textContent.trim()}),className:"line-clamp-1",children:[u.movieName," "]})]},null==e?void 0:e.movieName)),(0,l.jsx)(a.Z,{title:"تعديل",onClick:()=>f(),className:"bg-white"})]})}},1759:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var l=n(7437),r=n(7648);function o(e){let{style:t,title:n,onClick:o,path:i=""}=e;return(0,l.jsx)(r.default,{href:i,className:"w-full",children:(0,l.jsx)("button",{type:"submit",onClick:o,className:" btn text-sm py-0.5 px-4 sm:text-lg sm:py-2 sm:px-8 my-2 text-white text-nowrap select-none rounded-full w-full max-h-12 hover:text-white shadow-lg hover:border-[#596067] ",children:n})})}n(2265)},4481:function(e,t,n){"use strict";n.d(t,{InputsContextProvider:function(){return a},t:function(){return i}});var l=n(7437),r=n(2265);function o(e,t){switch(t.type){case"SET_SERIESES":return{serieses:null==t?void 0:t.payload};case"NEW_SERIES":return{newSeries:null==t?void 0:t.payload};case"NEW_SONG":return{newSong:null==t?void 0:t.payload};case"KIDS_SONG_NAME":return{kidsSongName:null==t?void 0:t.payload};case"SPACETOON_SONG_NAME":return{SpacetoonSongName:null==t?void 0:t.payload};case"NEW_SPACETOON_SONG":return{newSpacetoonSong:null==t?void 0:t.payload};case"NEW_MOVIE":return{newMovie:null==t?void 0:t.payload};case"SELECTED_VALUE":return{data:{...null==e?void 0:e.data,selectedValue:t.payload.selectedValue,modelName:t.payload.modelName}};case"DELETE_SERIES":return{deletedSeries:{...null==e?void 0:e.data,selectedValue:t.payload.selectedValue,modelName:t.payload.modelName}};case"IMAGE":return{data:{...null==e?void 0:e.data,image:t.payload}};case"PROFILE_IMAGE":return{profile_image:{image:t.payload}};case"IMAGE_ERROR":return{imageError:null==t?void 0:t.payload};case"ACTION":return{action:null==t?void 0:t.payload};case"MY_SERIESES":return{mySerieses:null==t?void 0:t.payload};case"FIRST_EPISODE":return{firstEpisode:null==t?void 0:t.payload};case"IS_SONG_NAME":return{isSongName:null==t?void 0:t.payload};default:return e}}let i=(0,r.createContext)("");function a(e){let{children:t}=e,[n,a]=(0,r.useReducer)(o,{data:{},imageError:{},profile_image:{},serieses:[],newSeries:{},newSong:{},kidsSongName:{},firstEpisode:"",SpacetoonSongName:{},newSpacetoonSong:{},newMovie:{},deletedSeries:{},deleteFavoritePost:{},action:{},mySerieses:[],isSongName:""});return(0,l.jsx)(i.Provider,{value:{...n,dispatch:a},children:t})}},7728:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(7437);function r(e){let{t,message:n,emoji:r,greenEmoji:o,redEmoji:i}=e;return(0,l.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-white text-four shadow-lg rounded-lg pointer-events-auto flex-2 items-center justify-center p-4 mx-2 border"),children:[(0,l.jsx)("div",{className:"flex justify-between items-center my-1",children:(0,l.jsx)("div",{className:"flex-1 w-full",children:(0,l.jsx)("div",{className:"flex justify-center items-center gap-2",children:(0,l.jsx)("div",{className:"ml-3 flex-1"})})})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{children:(0,l.jsxs)("h1",{className:"sm:mt-4 text-[12px] sm:text-sm s:text-nowrap text-center  ",children:[(0,l.jsx)("span",{className:"text-green-400 text-xl font-bold",children:o}),(0,l.jsx)("span",{className:"text-one text-xl mx-1 font-bold",children:i}),n,(0,l.jsx)("span",{className:"text-green-400 text-xl mx-1 font-bold",children:r})]})})})]})}n(3145),n(2265)},1668:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var l=n(7437),r=n(3145),o=n(2265),i=n(4481),a=n(2744);function s(e){let{img:t}=e,[n,s]=(0,o.useState)(null),[c,u]=(0,o.useState)(null),{dispatch:d,imageError:m}=(0,o.useContext)(i.t);(0,o.useEffect)(()=>{v()},[n]);let f=e=>{s(e.target.files[0])},v=async()=>{if(!n)return;let e=new FormData;e.append("image",n);try{let n=await fetch("/api/uploadImageToImgur",{method:"POST",body:e}),r=await n.json();if(r.success){var t,l;u(null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.link),d({type:"IMAGE",payload:null==r?void 0:null===(l=r.data)||void 0===l?void 0:l.link})}else console.error("Error uploading image:",r.error)}catch(e){console.error("Error uploading image:",e)}};return(0,l.jsxs)("div",{className:"relative flex justify-center items-center w-full h-72 sm:h-96 text-center border rounded-lg",children:[(0,l.jsxs)("div",{className:"absolute top-0 left-0 flex flex-col justify-center items-center text-white z-50 w-full",children:[(0,l.jsx)("input",{type:"file",id:"file-upload",onChange:f}),(0,l.jsx)("input",{type:"file",id:"file-upload",onChange:f,className:"flex justify-center items-center w-96 h-72 sm:h-96 border-2 text-center border-one rounded-lg placeholder:text-white "}),(null==m?void 0:m.imageError)&&(0,l.jsx)("h1",{className:" text-one text-2xl text-center my-2 w-full animate-bounce font-bold mt-8",children:null==m?void 0:m.message})]}),(0,l.jsxs)("div",{className:"absolute top-0 mx-auto w-full h-72 sm:h-96 border-2 border-one rounded-lg overflow-hidden z-20 ",children:[(0,l.jsx)("div",{class:"absolute top-0 left-0 custom-file-upload w-full h-full",children:(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center size-full ",children:[(0,l.jsx)("label",{for:"file-upload",class:"absolute top-0 size-full cursor-pointer"}),(0,l.jsx)(a.YZy,{className:"text-one text-3xl"}),(0,l.jsx)("h1",{className:"text-white text-sm sm:text-xl",children:" أضف صورة "})]})}),t&&!c&&(0,l.jsx)("div",{className:"w-full h-72 sm:h-96 border rounded-lg",children:(0,l.jsx)(r.default,{priority:!0,src:t,alt:"Uploaded",layout:"fill",objectFit:"cover"})}),c&&(0,l.jsx)("div",{className:"relative w-full h-72 sm:h-96",children:(0,l.jsx)(r.default,{priority:!0,src:c,alt:"Uploaded",layout:"fill",objectFit:"cover"})})]})]})}},6231:function(e,t,n){"use strict";n.d(t,{w_:function(){return u}});var l=n(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=l.createContext&&l.createContext(r),i=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var l,r;l=t,r=n[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in e?Object.defineProperty(e,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[l]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return t=>l.createElement(d,a({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,n)=>l.createElement(t.tag,c({key:n},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var n,{attr:r,size:o,title:s}=e,u=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;n[l]=e[l]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i),d=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),l.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&l.createElement("title",null,s),e.children)};return void 0!==o?l.createElement(o.Consumer,null,e=>t(e)):t(r)}}},function(e){e.O(0,[6051,2972,5726,9064,2971,5030,1744],function(){return e(e.s=4147)}),_N_E=e.O()}]);