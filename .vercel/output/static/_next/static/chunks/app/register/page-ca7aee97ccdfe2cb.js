(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4011],{2117:function(e,t,l){Promise.resolve().then(l.bind(l,8071))},8071:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return f}});var s=l(7437),n=l(9501),r=l(1229),a=l(3590);l(1759);var o=l(9376),i=l(9064),d=l(7648),c=l(3145),m=l(605),x=l(7728),u=l(2265);function f(){var e,t,l,f,h;let p=(0,m.useSession)(),v=(0,o.useRouter)(),g=r.z.object({name:r.z.string(),email:r.z.string().email(),password:r.z.string().min()}),{register:w,getValues:j,handleSubmit:y,setError:b,formState:{errors:N}}=(0,n.cI)({resolver:(0,a.F)(g)});async function k(){var e,t,l,n;if((null===(e=j())||void 0===e?void 0:e.name)===""){b("name",{type:"custom",message:"اسم المستخدم مطلوب"});return}if((null===(t=j())||void 0===t?void 0:t.email)===""){b("email",{type:"custom",message:"عنوان البريد الإلكتروني مطلوب"});return}if((null===(n=j())||void 0===n?void 0:null===(l=n.password)||void 0===l?void 0:l.length)<5){b("password",{type:"custom",message:"طول كلمة السر يجب أن يكون 5 أحرف (أو 5 أرقام وأحرف) على الأقل"});return}if((await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j())})).ok){let e=j();localStorage.setItem("username",null==e?void 0:e.name),localStorage.setItem("email",null==e?void 0:e.email),localStorage.setItem("password",null==e?void 0:e.password),v.push("/login"),i.ZP.custom(e=>(0,s.jsx)(x.Z,{t:e,message:"\uD83C\uDF3F تم التسجيل بنجاح \uD83C\uDF3F"}))}else b("email",{type:"custom",message:"هذا الإيميل موجود بالفعل! قم بتسجيل الدخول أو استخدم عنوان بريد الكتروني أخر"})}return(0,u.useEffect)(()=>{var e,t;(null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.email)&&v.push("/login")},[v,null==p?void 0:null===(t=p.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.email]),(0,s.jsx)("div",{className:"flex justify-center items-center w-full h-screen text-white text-lg md:text-xl text-end",children:(0,s.jsxs)("form",{onSubmit:y(k),className:"w-full lg:w-1/2 bg-four p-8 rounded-lg border border-one",children:[(0,s.jsx)("h1",{className:"w-full my-2 text-xl sm:text-2xl md:text-3xl xl:text-4xl font-bold text-center select-none",children:"التسجيل \uD83E\uDDC0"}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-center w-full",children:[(0,s.jsx)("h1",{className:"w-full my-4 select-none text-start text-sm sm:text-lg",children:"اسم المستخدم"}),(0,s.jsx)("input",{type:"text",name:"name",placeholder:"الإسم",...w("name"),className:" placeholder-gray-400 transition-all duration-300 placeholder:text-sm placeholder:sm:text-lg grow py-2 border-2 border-gray-300 border-solid focus:border-2 focus:outline-one outline-none rounded-md px-2 w-full caret-one text-black text-start"})]}),(null==N?void 0:N.name)&&(0,s.jsx)("h1",{className:"text-one text-md my-2 text-start",children:null==N?void 0:null===(l=N.name)||void 0===l?void 0:l.message}),(0,s.jsxs)("div",{className:"relative flex flex-col items-start justify-center w-full",children:[(0,s.jsx)("h1",{className:"w-full my-4 select-none text-start text-sm sm:text-lg",children:"البريد الإلكتروني"}),(0,s.jsx)("input",{type:"text",name:"email",placeholder:"الإيميل",...w("email"),className:" placeholder-gray-400 transition-all duration-300 placeholder:text-sm placeholder:sm:text-lg grow py-2 border-2 border-gray-300 border-solid focus:border-2 focus:outline-one outline-none rounded-md px-2 w-full caret-one text-black text-start"})]}),(null==N?void 0:N.email)&&(0,s.jsx)("h1",{className:"text-one text-md my-2 text-start",children:null==N?void 0:null===(f=N.email)||void 0===f?void 0:f.message}),(0,s.jsxs)("div",{className:"relative flex flex-col items-start justify-center w-full",children:[(0,s.jsx)("h1",{className:"w-full my-4 select-none text-start text-sm sm:text-lg",children:"كلمة السر"}),(0,s.jsx)("input",{type:"password",name:"password",placeholder:"كلمة السر",...w("password"),className:" placeholder-gray-400 transition-all duration-300 placeholder:text-sm placeholder:sm:text-lg grow py-2 border-2 border-gray-300 border-solid focus:border-2 focus:outline-one outline-none rounded-md px-2 w-full caret-one text-black text-start"})]}),(null==N?void 0:N.password)&&(0,s.jsx)("h1",{className:"text-one text-md my-2 text-start",children:null==N?void 0:null===(h=N.password)||void 0===h?void 0:h.message}),(0,s.jsxs)("div",{className:"flex justify-between w-full bg-white rounded-md px-4 py-2 items-center my-8 hover:shadow-md cursor-pointer",onClick:()=>(0,m.signIn)("google"),children:[(0,s.jsx)("div",{className:"relative h-8 w-8",children:(0,s.jsx)(c.default,{priority:!0,src:"/google.png",alt:"google image",layout:"fill",objectFit:"contain"})}),(0,s.jsx)("h1",{className:"text-sm sm:text-lg grow text-center text-gray-500 select-none font-semibold",children:"التسجيل عن طريق جوجل"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-8 items-center mt-4 w-full",children:[(0,s.jsx)("button",{type:"submit",className:" text-lg p-2  my-3 text-white text-nowrap bg-five hover:bg-one rounded-lg hover:scale-[101%] w-full ",children:"تسجيل"}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)(d.default,{href:"/",children:[(0,s.jsxs)("button",{type:"submit",className:" text-lg p-2  my-3 text-white text-nowrap bg-five hover:bg-one rounded-lg hover:scale-[101%] w-full ",children:["إغلاق"," "]})," "]})})]}),(0,s.jsxs)(d.default,{href:"/login",children:[" ",(0,s.jsxs)("h1",{className:"mt-4 text-start text-sm sm:text-lg",children:["هل لديك حساب بالفعل ؟ قم بتسجيل الدخول"," ",(0,s.jsx)("span",{className:"text-one text-lg sm:text-xl hover:scale-105",children:"\uD83E\uDDC0 هنا"})]})]})]})})}},1759:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var s=l(7437),n=l(7648);function r(e){let{style:t,title:l,onClick:r,path:a=""}=e;return(0,s.jsx)(n.default,{href:a,className:"w-full",children:(0,s.jsx)("button",{type:"submit",onClick:r,className:" btn text-sm py-0.5 px-4 sm:text-lg sm:py-2 sm:px-8 my-2 text-white text-nowrap select-none rounded-full w-full max-h-12 hover:text-white shadow-lg hover:border-[#596067] ",children:l})})}l(2265)},7728:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var s=l(7437);function n(e){let{t,message:l,emoji:n,greenEmoji:r,redEmoji:a}=e;return(0,s.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-white text-four shadow-lg rounded-lg pointer-events-auto flex-2 items-center justify-center p-4 mx-2 border"),children:[(0,s.jsx)("div",{className:"flex justify-between items-center my-1",children:(0,s.jsx)("div",{className:"flex-1 w-full",children:(0,s.jsx)("div",{className:"flex justify-center items-center gap-2",children:(0,s.jsx)("div",{className:"ml-3 flex-1"})})})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{children:(0,s.jsxs)("h1",{className:"sm:mt-4 text-[12px] sm:text-sm s:text-nowrap text-center  ",children:[(0,s.jsx)("span",{className:"text-green-400 text-xl font-bold",children:r}),(0,s.jsx)("span",{className:"text-one text-xl mx-1 font-bold",children:a}),l,(0,s.jsx)("span",{className:"text-green-400 text-xl mx-1 font-bold",children:n})]})})})]})}l(3145),l(2265)}},function(e){e.O(0,[2972,605,5726,9064,1229,2281,2971,5030,1744],function(){return e(e.s=2117)}),_N_E=e.O()}]);