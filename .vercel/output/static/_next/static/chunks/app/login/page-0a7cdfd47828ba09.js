(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{6028:function(e,t,l){Promise.resolve().then(l.bind(l,223))},223:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return f}});var s=l(7437),n=l(9501),r=l(1229),o=l(3590);l(1759);var a=l(9376),i=l(9064),d=l(7648),c=l(605),x=l(3145),u=l(7728),m=l(2265);function f(){var e,t,l,f;let h=(0,c.useSession)(),v=(0,a.useRouter)(),g=r.z.object({email:r.z.string().email(),password:r.z.string().min()}),{register:p,getValues:w,handleSubmit:j,setError:b,formState:{errors:y}}=(0,n.cI)({resolver:(0,o.F)(g)});async function N(){var e,t,l;if((null===(e=w())||void 0===e?void 0:e.email)===""){b("email",{type:"custom",message:"عنوان البريد الإلكتروني مطلوب"});return}if((null===(l=w())||void 0===l?void 0:null===(t=l.password)||void 0===t?void 0:t.length)<5){b("password",{type:"custom",message:"طول كلمة السر يجب أن يكون 5 أحرف (أو 5 أرقام وأحرف) على الأقل"});return}let n=await (0,c.signIn)("credentials",{...w(),redirect:!1,callbackUrl:"/"});if(n.ok){let e=w();localStorage.setItem("email",null==e?void 0:e.email),v.push("/"),i.ZP.custom(e=>(0,s.jsx)(u.Z,{t:e,message:" بهيجة اشرق لبن ترحب بكم أهلا وسهلا ",emoji:"\uD83E\uDDC0",greenEmoji:"\uD83E\uDDC0"}))}else b(null==n?void 0:n.error),i.ZP.custom(e=>(0,s.jsx)(u.Z,{t:e,message:"عنوان البريد الالكتروني هذا غير موجود يجب عليك التسجيل أولا \uD83D\uDE10"}))}return(0,m.useEffect)(()=>{var e,t;(null==h?void 0:null===(t=h.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.email)&&v.push("/")},[v,null==h?void 0:null===(t=h.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.email]),(0,s.jsx)("div",{className:"flex justify-center items-center w-full h-screen text-white text-lg md:text-xl text-end",children:(0,s.jsxs)("form",{onSubmit:j(N),className:"w-full lg:w-1/2 bg-four p-8 rounded-lg border border-one",children:[(0,s.jsx)("h1",{className:"w-full my-2 text-xl sm:text-2xl md:text-3xl xl:text-4xl font-bold text-center select-none",children:"تسجيل الدخول \uD83E\uDDC0"}),(0,s.jsxs)("div",{className:"relative flex flex-col items-start justify-center w-full",children:[(0,s.jsx)("h1",{className:"w-full my-4 select-none text-start text-sm sm:text-lg",children:"البريد الإلكتروني"}),(0,s.jsx)("input",{type:"text",name:"email",placeholder:"الإيميل",...p("email"),className:" placeholder-gray-400 transition-all placeholder:text-sm placeholder:sm:text-lg duration-300 grow py-2 border-2 border-gray-300 border-solid focus:border-2 focus:outline-one outline-none rounded-md px-2 w-full caret-one text-black text-start"})]}),(null==y?void 0:y.email)&&(0,s.jsx)("h1",{className:"text-one text-md my-2 select-none",children:null==y?void 0:null===(l=y.email)||void 0===l?void 0:l.message}),(0,s.jsxs)("div",{className:"relative flex flex-col items-start justify-center w-full",children:[(0,s.jsx)("h1",{className:"w-full my-4 select-none text-start text-sm sm:text-lg",children:"كلمة السر"}),(0,s.jsx)("input",{type:"password",name:"password",placeholder:"كلمة السر",...p("password"),className:" placeholder-gray-400 placeholder:text-sm placeholder:sm:text-lg transition-all duration-300 grow py-2 border-2 border-gray-300 border-solid focus:border-2 focus:outline-one outline-none rounded-md px-2 w-full caret-one text-black text-start"})]}),(null==y?void 0:y.password)&&(0,s.jsx)("h1",{className:"text-one text-md my-2 select-none",children:null==y?void 0:null===(f=y.password)||void 0===f?void 0:f.message}),(0,s.jsxs)("div",{className:"flex justify-center w-full bg-white rounded-md px-4 py-2 items-center my-8 hover:shadow-md cursor-pointer",onClick:()=>(0,c.signIn)("google"),children:[(0,s.jsx)("div",{className:"relative h-8 w-8 ",children:(0,s.jsx)(x.default,{priority:!0,src:"/google.png",alt:"google image",layout:"fill",objectFit:"contain"})}),(0,s.jsx)("h1",{className:"text-sm sm:text-lg grow text-center text-gray-500 select-none font-semibold",children:"تسجيل الدخول عن طريق جوجل"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-8 items-center mt-4 w-full",children:[(0,s.jsx)("button",{type:"submit",className:" text-lg p-2  my-3 text-white text-nowrap bg-five hover:bg-one rounded-lg hover:scale-[101%] w-full ",children:"تسجيل الدخول"}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)(d.default,{href:"/",children:[(0,s.jsxs)("button",{type:"submit",className:" text-lg p-2  my-3 text-white text-nowrap bg-five hover:bg-one rounded-lg hover:scale-[101%] w-full ",children:["إغلاق"," "]})," "]})})]}),(0,s.jsx)(d.default,{href:"/register",children:(0,s.jsxs)("h1",{className:"mt-4 text-start text-sm sm:text-lg",children:["ليس لديك حساب؟ قم بالتسجيل",(0,s.jsx)("span",{className:"text-one text-lg sm:text-xl hover:scale-105",children:"\uD83E\uDDC0 هنا"})]})})]})})}},1759:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var s=l(7437),n=l(7648);function r(e){let{style:t,title:l,onClick:r,path:o=""}=e;return(0,s.jsx)(n.default,{href:o,className:"w-full",children:(0,s.jsx)("button",{type:"submit",onClick:r,className:" btn text-sm py-0.5 px-4 sm:text-lg sm:py-2 sm:px-8 my-2 text-white text-nowrap select-none rounded-full w-full max-h-12 hover:text-white shadow-lg hover:border-[#596067] ",children:l})})}l(2265)},7728:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});var s=l(7437);function n(e){let{t,message:l,emoji:n,greenEmoji:r,redEmoji:o}=e;return(0,s.jsxs)("div",{className:"".concat(t.visible?"animate-enter":"animate-leave"," max-w-md w-full bg-white text-four shadow-lg rounded-lg pointer-events-auto flex-2 items-center justify-center p-4 mx-2 border"),children:[(0,s.jsx)("div",{className:"flex justify-between items-center my-1",children:(0,s.jsx)("div",{className:"flex-1 w-full",children:(0,s.jsx)("div",{className:"flex justify-center items-center gap-2",children:(0,s.jsx)("div",{className:"ml-3 flex-1"})})})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{children:(0,s.jsxs)("h1",{className:"sm:mt-4 text-[12px] sm:text-sm s:text-nowrap text-center  ",children:[(0,s.jsx)("span",{className:"text-green-400 text-xl font-bold",children:r}),(0,s.jsx)("span",{className:"text-one text-xl mx-1 font-bold",children:o}),l,(0,s.jsx)("span",{className:"text-green-400 text-xl mx-1 font-bold",children:n})]})})})]})}l(3145),l(2265)}},function(e){e.O(0,[2972,605,5726,9064,1229,2281,2971,5030,1744],function(){return e(e.s=6028)}),_N_E=e.O()}]);