(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5056],{4349:function(e,t,l){Promise.resolve().then(l.bind(l,5786))},5786:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return p}});var s=l(7437),a=l(2265),o=l(6393);l(2954);var i=l(3145),r=l(705),n=l(8737),c=l(8827),d=l(3513),m=l(6653),u=l(4312),h=l(6328);function p(){var e,t,l,p;let[x,g]=(0,a.useState)(!1),[f,w]=(0,a.useState)([]),[v,j]=(0,a.useState)("");async function b(){let e=await fetch("/api/spacetoonSongs?spacetoonSongName=".concat(v)),t=await (null==e?void 0:e.json());e.ok&&w(t)}return(0,a.useEffect)(()=>{(()=>{{let e=new URLSearchParams(window.location.search).get("spacetoonSongName");e&&e!==v&&j(e)}})()},[v]),(0,a.useEffect)(()=>{v&&b()},[v]),(0,s.jsxs)("div",{className:"bg-one",children:[(0,s.jsxs)("div",{className:"relative w-full sm:p-4 lg:p-8 rounded-lg bg-one ",children:[(0,s.jsxs)("div",{className:"absolute flex flex-col items-start gap-2 z-40 top-2 right-2 sm:top-4 sm:right-4 xl:right-12 xl:top-12 ",children:[(0,s.jsx)(n.Ogj,{className:"p-1 rounded-lg text-3xl lg:text-5xl text-white cursor-pointer z-50  bg-two",onClick:()=>{g(!x)}}),x&&(0,s.jsx)(r.Z,{setIsOpen:g})]}),(0,s.jsx)("div",{className:"relative w-full h-44 sm:h-[500px] overflow-hidden shadow-lg shadow-one",children:(null===(e=f[0])||void 0===e?void 0:e.spacetoonSongImage)?(0,s.jsx)(i.default,{priority:!0,src:null===(t=f[0])||void 0===t?void 0:t.spacetoonSongImage,layout:"fill",objectFit:"cover",alt:"photo"}):(0,s.jsx)(c.Z,{})}),(0,s.jsx)("div",{className:"flex flex-col justify-start items-center w-full gap-4 my-4 px-2",children:(0,s.jsxs)("h1",{className:"grow text-sm lg:text-2xl w-full text-white",children:[(0,s.jsx)("span",{className:"text-gray-500 ml-2",children:"#"}),"اسم الأغنية: ",(0,s.jsx)("span",{children:null===(l=f[0])||void 0===l?void 0:l.spacetoonSongName}),(0,s.jsx)(m.default,{render:null===(p=f[0])||void 0===p?void 0:p.spacetoonSongName})]})}),(0,s.jsxs)("div",{className:"my-2 p-2",children:[(null==f?void 0:f.length)===0&&(0,s.jsx)(o.Z,{myMessage:"\uD83D\uDE09لا يوجد نتائج لعرضها"}),(0,s.jsx)("div",{className:"flex gap-8 justify-center items-center w-full",children:(null==f?void 0:f.length)>0&&(null==f?void 0:f.map(e=>(0,s.jsx)("div",{className:" flex flex-col items-center justify-center rounded-lg overflow-hidden w-full",children:(0,s.jsx)(h.Z,{videoUrl:e.spacetoonSongLink,image:null==e?void 0:e.spacetoonSongImage,episodeName:null==e?void 0:e.spacetoonSongName})},e.spacetoonSongLink)))})]})]}),(0,s.jsx)(d.default,{vertical:!0,title:!1,image:!1}),(0,s.jsx)("div",{className:"p-2",children:(0,s.jsx)(u.U,{})})]})}},4312:function(e,t,l){"use strict";l.d(t,{U:function(){return n}});var s=l(7437),a=l(2265),o=l(6595),i=l(9064),r=l(1759);let n=()=>{let[e,t]=(0,a.useState)(!1),[l,n]=(0,a.useState)({name:"",email:"",message:""}),c=(0,a.useRef)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:" btn w-fit tex-lg sm:text-xl text-white p-2 cursor-pointer rounded-lg shadow-lg",onClick:()=>t(!e),children:e?"إغلاق":"الإبلاغ عن رابط لا يعمل"}),(0,s.jsx)("div",{className:"w-full bg-one",children:e&&(0,s.jsxs)("form",{ref:c,onSubmit:e=>{e.preventDefault();let t=new Promise(async(e,t)=>{o.ZP.sendForm("service_1kwdc1b","template_ob2d528",c.current,{publicKey:"sz-p0MH13eKBG6rFP"}).then(()=>{console.log("SUCCESS!")},e=>{console.log("FAILED...",e.text)})?(e(),n({name:"",email:"",message:""})):t()});i.ZP.promise(t,{loading:"Sending ...",success:"تم إرسال رسالتك بنجاح",error:"حدث خطأ ما حاول مرة أخرى"})},className:"flex flex-col items-center gap-4",children:[(0,s.jsxs)("div",{className:" w-full flex flex-col sm:flex-row justify-between items-center lg:gap-16 sm:gap-8",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col grow",children:[(0,s.jsxs)("label",{className:"tex-lg sm:text-xl text-white p-2 ",children:["الإسم:"," "]}),(0,s.jsx)("input",{value:null==l?void 0:l.name,onChange:e=>n({...l,name:e.target.value}),required:!0,type:"text",name:"user_name",placeholder:"اسمك",className:"p-2 rounded-lg outline-none shadow-none border-2 focus:border-primary border-solid tex-lg sm:text-xl "})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col grow",children:[(0,s.jsxs)("label",{className:"tex-lg sm:text-xl text-white p-2 ",children:["الإيميل:"," "]}),(0,s.jsx)("input",{value:null==l?void 0:l.email,onChange:e=>n({...l,email:e.target.value}),required:!0,type:"email",name:"user_email",placeholder:"عنوان البريد الإلكتروني",className:"w-full rounded-lg p-2 outline-none shadow-none focus:border-primary border-secondary tex-lg sm:text-xl placeholder:text-sm placeholder:sm:text-lg"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,s.jsx)("label",{className:"tex-lg sm:text-xl my-2 text-white p-2 ",children:"الرسالة:"}),(0,s.jsx)("textarea",{value:null==l?void 0:l.message,placeholder:"اكتب اسم المسلسل و رقم الحلقة أو اسم الفيلم الذي يحتوي على أشياء مخالفة للعقيدة الإسلامية ليتم حذفه فورا\nاكتب اسم المسلسل ورقم الحلقة أو اسم الفيلم الذي لا يعمل لنقوم بإصلاحه إن شاء الله",onChange:e=>n({...l,message:e.target.value}),required:!0,name:"message",className:"w-full rounded-lg p-2 outline-none shadow-none focus:border-primary border-secondary tex-lg sm:text-xl min-h-[200px] placeholder:text-sm placeholder:sm:text-lg"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(r.Z,{title:"إرسال",type:"submit",style:" "})})]})})," "]})}},3513:function(e,t,l){"use strict";l.d(t,{default:function(){return h}});var s=l(7437),a=l(8779);l(466);var o=l(9376),i=l(2265),r=l(4481),n=l(3145),c=l(6393),d=l(8737),m=l(705);l(2954);var u=l(2744);function h(e){let{vertical:t=!1,image:l=!0,title:h=!0}=e,[p,x]=(0,i.useState)(1),[g,f]=(0,i.useState)([]),{newSpacetoonSong:w,dispatch:v}=(0,i.useContext)(r.t),j=(0,o.useRouter)(),[b,y]=(0,i.useState)(!1),[N,S]=(0,i.useState)(!0),[k,P]=(0,i.useState)(""),[_,E]=(0,a.E)({loop:!1,mode:"free",vertical:!!t,rtl:!t,slides:{perView:()=>{var e;return(null===(e=window)||void 0===e?void 0:e.innerWidth)>768||t?3:2},spacing:5},slideChanged(e){e.track.details.rel>=e.track.details.slides.length-3&&x(e=>e+1)}});async function T(){try{let e=await fetch("/api/spacetoonSongs?page=".concat(p,"&limit=4&random=true")),t=await e.json();if(e.ok){let e=new Set(g.map(e=>e.id)),l=t.filter(t=>!e.has(t.id));l.length>0&&f(e=>[...e,...l])}}catch(e){console.error("Error fetching spacetoonSongs:",e)}}(0,i.useEffect)(()=>{T();let e=setTimeout(()=>{S(!1)},4e4);return()=>clearTimeout(e)},[w,p]),(0,i.useEffect)(()=>{E.current&&E.current.update()},[g,w]);let C=e=>{let t=window.location.pathname+window.location.search;P(t),j.push("/spacetoonSong?spacetoonSongName=".concat(e)),setTimeout(()=>{let e=window.location.pathname+window.location.search;if(console.log("newPath",e),console.log("currentPath",t),e!==k&&e.includes("/spacetoonSong")){var l,s;null===(s=window)||void 0===s||null===(l=s.location)||void 0===l||l.reload()}},3e3)};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-full overflow-x-hidden p-2 ",children:[t?(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsxs)("div",{className:"absolute flex flex-col items-start gap-2 z-40 top-2 right-2 sm:top-4 sm:right-4 xl:right-12 xl:top-12",children:[(0,s.jsx)(d.Ogj,{className:"p-1 rounded-lg text-3xl lg:text-5xl text-white cursor-pointer z-50  bg-two",onClick:()=>y(!b)}),b&&(0,s.jsx)(m.Z,{setIsOpen:y})]})]}):"",l?(0,s.jsxs)("div",{className:"relative h-32 w-52 sm:h-60 sm:w-96",children:[(0,s.jsx)(n.default,{src:"https://i.imgur.com/BWPdDAF.png",layout:"fill",objectFit:"cover",alt:"زمردة"})," "]}):"",h?(0,s.jsx)("h1",{className:"w-full text-start p-2 text-white",children:"أغاني سبيس تون"}):"",N&&(0,s.jsxs)("div",{className:"relative w-full flex items-center justify-between text-white h-12  text-2xl px-2 ",children:[(0,s.jsx)(u.eDK,{}),(0,s.jsx)("h6",{className:"text-sm w-full text-start",children:"اسحب لمزيد من الأغاني"})]}),(0,s.jsx)("div",{ref:_,className:(t?"h-[600px]":" h-fit")+" keen-slider py-2 shadow-lg overflow-scroll rounded-md",children:0===g.length?(0,s.jsx)(c.Z,{}):null==g?void 0:g.map(e=>(0,s.jsxs)("div",{className:"keen-slider__slide snap-center flex flex-col items-center justify-start flex-shrink-0 px-2 w-full",onClick:()=>{v({type:"SPACETOON_SONG_NAME",payload:null==e?void 0:e.spacetoonSongName}),C(null==e?void 0:e.spacetoonSongName)},children:[(0,s.jsx)("div",{className:(t?"w-72 h-44":"w-40 h-[90px]")+" relative w-24 h-32 sm:w-full sm:h-64 rounded-md overflow-hidden hover:cursor-pointer",children:(0,s.jsx)(n.default,{src:null==e?void 0:e.spacetoonSongImage,layout:"fill",objectFit:"cover",alt:null==e?void 0:e.spacetoonSongName})}),(0,s.jsx)("h1",{className:"text-white text-center m-2 text-[10px] sm:text-[15px] w-full line-clamp-2 font-bold",children:null==e?void 0:e.spacetoonSongName})]},null==e?void 0:e.id))})]})}},6595:function(e,t,l){"use strict";l.d(t,{ZP:function(){return y}});class s{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}let a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},o=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},i=async(e,t,l={})=>{let o=await fetch(a.origin+e,{method:"POST",headers:l,body:t}),i=await o.text(),r=new s(o.status,i);if(o.ok)return r;throw r},r=(e,t,l)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!l||"string"!=typeof l)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},n=e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},c=e=>e.webdriver||!e.languages||0===e.languages.length,d=()=>new s(451,"Unavailable For Headless Browser"),m=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"},u=e=>!e.list?.length||!e.watchVariable,h=(e,t)=>e instanceof FormData?e.get(t):e[t],p=(e,t)=>{if(u(e))return!1;m(e.list,e.watchVariable);let l=h(t,e.watchVariable);return"string"==typeof l&&e.list.includes(l)},x=()=>new s(403,"Forbidden"),g=(e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"},f=async(e,t,l)=>{let s=Number(await l.get(e)||0);return t-Date.now()+s},w=async(e,t,l)=>{if(!t.throttle||!l)return!1;g(t.throttle,t.id);let s=t.id||e;return await f(s,t.throttle,l)>0||(await l.set(s,Date.now().toString()),!1)},v=()=>new s(429,"Too Many Requests"),j=e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},b=e=>"string"==typeof e?document.querySelector(e):e;var y={init:(e,t="https://api.emailjs.com")=>{if(!e)return;let l=o(e);a.publicKey=l.publicKey,a.blockHeadless=l.blockHeadless,a.storageProvider=l.storageProvider,a.blockList=l.blockList,a.limitRate=l.limitRate,a.origin=l.origin||t},send:async(e,t,l,s)=>{let m=o(s),u=m.publicKey||a.publicKey,h=m.blockHeadless||a.blockHeadless,g=m.storageProvider||a.storageProvider,f={...a.blockList,...m.blockList},j={...a.limitRate,...m.limitRate};return h&&c(navigator)?Promise.reject(d()):(r(u,e,t),n(l),l&&p(f,l))?Promise.reject(x()):await w(location.pathname,j,g)?Promise.reject(v()):i("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:e,template_id:t,template_params:l}),{"Content-type":"application/json"})},sendForm:async(e,t,l,s)=>{let n=o(s),m=n.publicKey||a.publicKey,u=n.blockHeadless||a.blockHeadless,h=a.storageProvider||n.storageProvider,g={...a.blockList,...n.blockList},f={...a.limitRate,...n.limitRate};if(u&&c(navigator))return Promise.reject(d());let y=b(l);r(m,e,t),j(y);let N=new FormData(y);return p(g,N)?Promise.reject(x()):await w(location.pathname,f,h)?Promise.reject(v()):(N.append("lib_version","4.4.1"),N.append("service_id",e),N.append("template_id",t),N.append("user_id",m),i("/api/v1.0/email/send-form",N))},EmailJSResponseStatus:s}}},function(e){e.O(0,[5864,7240,5027,6950,6051,2972,605,5726,9064,9069,7562,7037,2971,5030,1744],function(){return e(e.s=4349)}),_N_E=e.O()}]);